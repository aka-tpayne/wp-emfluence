emfluenceEmailerWidget={groups:{add:function(e){$widget=jQuery(e).parents(".widget"),$input=this.getInput($widget);var t=this.processValue($input.val());if(t){if($checkboxesContainer=this.getCheckboxesContainer($widget),$checkboxesContainer.find('input[type="checkbox"][value="'+t.id+'"]').length>0)return void alert(t.name+" is already in the selected groups.");$checkboxesContainer.append(this.createCheckbox($widget,t)),$input.val(null)}},getInput:function(e){return e.find(".groups input[list]")},getCheckboxesContainer:function(e){return e.find(".groups .selected")},processValue:function(e){var t=e.match(/(.+)\s\[(\d+)\]/);return t?{name:t[1],id:t[2]}:!1},createCheckbox:function(e,t){var i=e.attr("id").slice(-1),n="groups-"+i+"-"+t.id,a='<div><label for="'+n+'">          <input id="'+n+'" type="checkbox" value="'+t.id+'" name="groups[]" checked /> '+t.name+"        </label></div>";return a}},variables:{add:function(e){$widget=jQuery(e).parents(".widget"),$input=this.getInput($widget);var t=$input.val();if(t){if($customVariablesContainer=this.getCustomVariablesContainer($widget),$customVariablesContainer.find('[data-variable-key="custom_'+t+'"]').length>0)return void alert(t+" is already in the selected custom variables.");$customVariablesContainer.append(this.createVariableSection($widget,t)),$input.val(null)}},getInput:function(e){return e.find(".custom-variable-adder input")},getCustomVariablesContainer:function(e){return e.find(".custom_variables")},getCustomVariablesTemplate:function(e){return e.find(".custom_variable_template").html()},createVariableSection:function(e,t){var i=this.getCustomVariablesTemplate(e).replace(new RegExp("CUSTOM_VARIABLE_NUMBER","g"),t);return i}}};